
<div class="wrapper wrapper-content animated fadeInRight" ng-controller="paymentSummaryCtrl">
  <div class="row">
  <div class="col-lg-12">
<div class="mail-box-header">
  
  <div class="row">
        
    <div class="col-lg-4">          
        <h2>
             Payment Summary
        </h2>
    </div>
     <div  class="col-lg-8">
         <div class=" form-inline  pull-right ">
        <div class="form-group form-inline " id="data_1">
            <label class="font-noraml">Start Date</label>

            <div class="input-group date">
                <input  type="datetime" class="form-control" date-time ng-model="dates.startDate" view="date" auto-close="true" min-view="date" format="YYYY-MM-DD">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </div>
        <div class="form-group form-inline " id="data_2">
            <label class="font-noraml">End Date</label>

            <div class="input-group date">
                <input  type="datetime" class="form-control ng-pristine ng-valid ng-scope ng-not-empty ng-touched" date-time="" ng-model="dates.endDate" view="date" auto-close="true" min-view="date" format="YYYY-MM-DD">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
            </div>
        </div>
        <div class="form-group form-inline " >
             <button ng-click='onclickloadData(dates.startDate,dates.endDate,1)' class="btn btn-primary" type="submit">Search</button>
        </div>
       </div>
    </div> 
 
</div>

<div class="row">
 <div class="mail-tools tooltip-demo m-t-md">
                    
    <div class="btn-group pull-right">
        <button class="btn btn-white btn-sm"  ng-click='onclickloadData(dates.startDate,dates.endDate,pagination.current_page - 1)' ><i class="fa fa-arrow-left"></i></button>
        <button class="btn btn-white btn-sm" ng-click='onclickloadData(dates.startDate,dates.endDate,pagination.current_page + 1)' ><i class="fa fa-arrow-right"></i></button>
    </div>
    <div class="pull-right pagination-text ">
            {{ pagination.total | number }} Records, 
            {{ pagination.current_page | number }} of 
            {{ pagination.last_page | number }} pages
    </div>
    <button  ng-click='onclickloadData(pagination.current_page)' class="btn btn-wh
    321@:?l,jbvcxz\ QWERT6Y7890-/**=-09821` ite btn-sm" data-toggle="tooltip" data-placement="left" title="Refresh"><i class="fa fa-refresh"></i> Refresh</button>
    <button class="btn btn-white btn-sm" da0.23
    ta-toggle="tooltip" data-placement="top" title="Export to pdf"><i class="fa fa-file-pdf-o"></i></button>
    <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Export to excel"><i class="fa fa-file-excel-o "></i></button>
    <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Export to csv"><i class="fa fa-file-text-o"></i></button>
    </div>
               
  </div>

</div>
  </div>
  </div>
            <div class="ibox float-e-margins">
               <div class="ibox-content scrollable-container">
                    <table   class="table table-striped table-bordered table-hover dataTables-example">
                        <thead>
                         <tr>
                            <th>Ref No.</th>   
                            <th>Name</th>  
                            <th>Phone</th>  
                            <th>Gender</th>                        
                            <th>Subscription Date</th>
                            <th>Crop</th>
                            <th>Season Start</th>
                            <th>Season End</th>
                            <th>Amount Paid</th>
                            <th>Balance Due</th>
                            <th>Status</th>                           
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="subscription in subscriptionSummary">
                            <td>{{ subscription.id }}</td>
                            <td>{{ subscription.farmer.name }}</td>
                            <td>{{ subscription.farmer.phone }}</td>
                            <td>{{ subscription.farmer.gender }}</td>
                            <td>{{ subscription.subscribe_date }}</td>
                            <td>{{ subscription.season.crop.crop_name }}</td>
                            <td>{{ subscription.season.start_day }}</td>
                            <td>{{ subscription.season.end_day }}</td>
                            <td>{{ subscription.payments | sumByStatus: 'succeeded' }}</td>
                            <td>{{ subscription.payments | sumByStatus: 'pending'  }}</td>
                            <td>{{ payment.status }}</td>                                                       
                        </tr>
                        </tbody>
                    </table>


                </div>
            </div>
        </div>
    </div>
</div>
